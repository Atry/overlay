- [Builtin, BooleanVisitor]
- [Builtin, NatPlus]
- [Builtin, NatDecrement]
- [Builtin, NatToPython]
- [Builtin, NatEquality]
- [Builtin, BinNatPlus]
- [Builtin, BinNatDecrement]
- [Builtin, BinNatToPython]
- [Builtin, BinNatEquality]
- [Builtin, NumberIsZero]
- [Builtin, BooleanToPython]
- [FibonacciLibrary]

- NatFactory:
    - [FibonacciTest, ~, FibonacciFactory]
    - One:
        - [FibonacciTest, ~, NatFactory, Successor]
        - predecessor:
            - [FibonacciTest, ~, NatFactory, Zero]
      Product:
        Visitor:
          VisitZero: []
          VisitOne: []
          VisitMoreThanOne:
            decrementedOnce: [Product]
            decrementedTwice: [Product]
          Visit: []
      Zero:
        Visitor:
          - VisitZero: []
            VisitOne: []
            VisitMoreThanOne:
              decrementedOnce: [Product]
              decrementedTwice: [Product]
            Visit: [VisitZero]
      Successor:
        Visitor:
          _PredVisitor:
            - [Successor, ~, predecessor, Visitor]
            - VisitZero:
                _case:
                  - [VisitOne]
              VisitSuccessor:
                _case:
                  - [VisitMoreThanOne]
                  - decrementedOnce: [Successor, ~, predecessor]
                    decrementedTwice: [Successor, ~, predecessor, Decrement, decreased]
              Visit:
                _case: [Product]
          VisitZero: []
          VisitOne: []
          VisitMoreThanOne:
            decrementedOnce: [Product]
            decrementedTwice: [Product]
          Visit: [_PredVisitor, Visit, _case]

  BinNatFactory:
    - [FibonacciTest, ~, FibonacciFactory]
    - One:
        - [FibonacciTest, ~, BinNatFactory, Odd]
        - halfOfPredecessor:
            - [FibonacciTest, ~, BinNatFactory, Zero]
      Product:
        Visitor:
          VisitZero: []
          VisitOne: []
          VisitMoreThanOne:
            decrementedOnce: [Product]
            decrementedTwice: [Product]
          Visit: []
      Zero:
        Visitor:
          - VisitZero: []
            VisitOne: []
            VisitMoreThanOne:
              decrementedOnce: [Product]
              decrementedTwice: [Product]
            Visit: [VisitZero]
      Even:
        Visitor:
          - VisitZero: []
            VisitOne: []
            VisitMoreThanOne:
              decrementedOnce: [Even, ~, Decrement, decreased]
              decrementedTwice: [Even, ~, Decrement, decreased, Decrement, decreased]
            Visit: [VisitMoreThanOne]
      Odd:
        Visitor:
          _HalfVisitor:
            - [Odd, ~, halfOfPredecessor, Visitor]
            - VisitZero:
                _case:
                  - [VisitOne]
              VisitEven:
                _case:
                  - [VisitMoreThanOne]
                  - decrementedOnce: [Odd, ~, Decrement, decreased]
                    decrementedTwice: [Odd, ~, Decrement, decreased, Decrement, decreased]
              VisitOdd:
                _case:
                  - [VisitMoreThanOne]
                  - decrementedOnce: [Odd, ~, Decrement, decreased]
                    decrementedTwice: [Odd, ~, Decrement, decreased, Decrement, decreased]
              Visit:
                _case: [Product]
          VisitZero: []
          VisitOne: []
          VisitMoreThanOne:
            decrementedOnce: [Product]
            decrementedTwice: [Product]
          Visit: [_HalfVisitor, Visit, _case]

  # ===========================================================================
  # Nat Fibonacci tests
  # ===========================================================================

  natZero:
    - [FibonacciTest, ~, NatFactory, Zero]
  natOne:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natZero]
  natTwo:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natOne]
  natThree:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natTwo]
  natFour:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natThree]
  natFive:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natFour]
  natSix:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natFive]

  # Direct Fibonacci (double recursion)
  natFibZero:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natZero]
  natFibOne:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natOne]
  natFibTwo:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natTwo]
  natFibThree:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natThree]
  natFibFour:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natFour]
  natFibFive:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natFive]
  natFibSix:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natSix]

  # Accumulator Fibonacci (linear recursion)
  natFibAccZero:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natZero]
  natFibAccOne:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natOne]
  natFibAccTwo:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natTwo]
  natFibAccThree:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natThree]
  natFibAccFour:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natFour]
  natFibAccFive:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natFive]
  natFibAccSix:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natSix]

  # ===========================================================================
  # BinNat Fibonacci tests
  # ===========================================================================

  binNatZero:
    - [FibonacciTest, ~, BinNatFactory, Zero]
  binNatOne:
    - [FibonacciTest, ~, BinNatFactory, Odd]
    - halfOfPredecessor:
        - [binNatZero]
  binNatTwo:
    - [FibonacciTest, ~, BinNatFactory, Even]
    - half:
        - [binNatOne]
  binNatThree:
    - [FibonacciTest, ~, BinNatFactory, Odd]
    - halfOfPredecessor:
        - [binNatOne]
  binNatFour:
    - [FibonacciTest, ~, BinNatFactory, Even]
    - half:
        - [binNatTwo]
  binNatFive:
    - [FibonacciTest, ~, BinNatFactory, Odd]
    - halfOfPredecessor:
        - [binNatTwo]
  binNatSix:
    - [FibonacciTest, ~, BinNatFactory, Even]
    - half:
        - [binNatThree]

  # Direct Fibonacci (double recursion) on BinNat
  binNatFibZero:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatZero]
  binNatFibOne:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatOne]
  binNatFibTwo:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatTwo]
  binNatFibThree:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatThree]
  binNatFibFour:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatFour]
  binNatFibFive:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatFive]
  binNatFibSix:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatSix]

  # ===========================================================================
  # Nat trie Fibonacci tests
  # ===========================================================================

  # Two ∪ Three: {fib(2), fib(3)} = {1, 2}
  natTwoOrThree:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natOne]
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natTwo]

  # Four ∪ Five: {fib(4), fib(5)} = {3, 5}
  natFourOrFive:
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natThree]
    - [FibonacciTest, ~, NatFactory, Successor]
    - predecessor:
        - [natFour]

  natFibTwoOrThree:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natTwoOrThree]

  natFibFourOrFive:
    - [FibonacciTest, ~, NatFactory, Fibonacci]
    - n: [natFourOrFive]

  natFibAccTwoOrThree:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natTwoOrThree]

  natFibAccFourOrFive:
    - [FibonacciTest, ~, NatFactory, FibonacciAccumulator]
    - n: [natFourOrFive]

  # ===========================================================================
  # BinNat trie Fibonacci tests
  # ===========================================================================

  # Two ∪ Three: Even(One) ∪ Odd(One)  →  {fib(2), fib(3)} = {1, 2}
  binNatTwoOrThree:
    - [FibonacciTest, ~, BinNatFactory, Even]
    - [FibonacciTest, ~, BinNatFactory, Odd]
    - half: [binNatOne]
    - halfOfPredecessor: [binNatOne]

  # Four ∪ Five: Even(Two) ∪ Odd(Two)  →  {fib(4), fib(5)} = {3, 5}
  binNatFourOrFive:
    - [FibonacciTest, ~, BinNatFactory, Even]
    - [FibonacciTest, ~, BinNatFactory, Odd]
    - half: [binNatTwo]
    - halfOfPredecessor: [binNatTwo]

  binNatFibTwoOrThree:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatTwoOrThree]

  binNatFibFourOrFive:
    - [FibonacciTest, ~, BinNatFactory, Fibonacci]
    - n: [binNatFourOrFive]

  binNatFibAccTwoOrThree:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatTwoOrThree]

  binNatFibAccFourOrFive:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatFourOrFive]

  # Accumulator Fibonacci (linear recursion) on BinNat
  binNatFibAccZero:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatZero]
  binNatFibAccOne:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatOne]
  binNatFibAccTwo:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatTwo]
  binNatFibAccThree:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatThree]
  binNatFibAccFour:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatFour]
  binNatFibAccFive:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatFive]
  binNatFibAccSix:
    - [FibonacciTest, ~, BinNatFactory, FibonacciAccumulator]
    - n: [binNatSix]
